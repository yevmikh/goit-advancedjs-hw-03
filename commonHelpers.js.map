{"version":3,"file":"commonHelpers.js","sources":["../src/js/cat-api.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = 'https://api.thecatapi.com/v1';\nconst SELECTOR_END_POINT = `${BASE_URL}/breeds`;\nconst EMAGE_END_POIND = `${BASE_URL}/images/search?`;\nconst API_KEY =\n  'live_hYHqSU1vkpXeYjXQ3zdI4yWdoi0g8Rg34LE74zI7SScY4LWF3GhroxnVWF81pKGm';\n\naxios.defaults.headers.common['x-api-key'] = API_KEY;\n\nfunction fetchBreeds() {\n  return axios.get(`${SELECTOR_END_POINT}`).then(res => res.data);\n}\n\nfunction fetchCatByBreed(breedId) {\n  return axios\n    .get(`${EMAGE_END_POIND}breed_ids=${breedId}`)\n    .then(res => res.data);\n}\n\nexport { fetchBreeds, fetchCatByBreed };\n","import SlimSelect from 'slim-select';\nimport 'slim-select/styles';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { fetchBreeds, fetchCatByBreed } from './js/cat-api';\n\nconst catInfo = document.querySelector('.cat-info');\nconst catSelector = document.querySelector('.breed-select');\n\nconst loaderEl = document.createElement('span');\nloaderEl.className = 'loader hidden';\ndocument.body.appendChild(loaderEl);\n\nfunction showLoader() {\n  loaderEl.classList.remove('hidden');\n}\nfunction hideLoader() {\n  loaderEl.classList.add('hidden');\n}\nfunction showCatSelector() {\n  catSelector.classList.remove('hidden');\n}\nfunction hideCatSelector() {\n  catSelector.classList.add('hidden');\n}\nfunction showCatInfo() {\n  catInfo.classList.remove('hidden');\n}\nfunction hideCatInfo() {\n  catInfo.classList.add('hidden');\n}\nfunction catSelectorUpload() {\n  showLoader();\n  hideCatSelector();\n  hideCatInfo();\n\n  fetchBreeds()\n    .then(breeds => {\n      hideLoader();\n      showCatSelector();\n      breeds.forEach(({ id, name }) => {\n        catSelector.appendChild(new Option(name, id));\n      });\n      new SlimSelect({\n        select: catSelector,\n      });\n    })\n    .catch(error => {\n      hideLoader();\n      hideCatSelector();\n      hideCatInfo();\n      iziToast.error({\n        title: 'Error',\n        message: 'Oops! Something went wrong! Try reloading the page!',\n        position: 'bottomCenter',\n        timeout: false,\n        color: 'yellow',\n      });\n    });\n}\n\n////// drawing image and content\ncatSelector.addEventListener('change', createMarkup);\nfunction createMarkup() {\n  showLoader();\n  hideCatSelector();\n  hideCatInfo();\n\n  const breedId = catSelector.value;\n\n  fetchCatByBreed(breedId)\n    .then(catData => {\n      hideLoader();\n      showCatSelector();\n      showCatInfo();\n      const data = catData[0];\n      catInfo.innerHTML = `<img class = \"img\" src = \"${data.url}\" alt= \"${data.breeds[0].name}\" loading=\"lazy\"/>\n      <div class = \"text-container\">\n<p class = \"h2\">${data.breeds[0].name}</p>\n<p>${data.breeds[0].description}</p>\n<p><span class =\"subtitle\">Temperament</span> : ${data.breeds[0].temperament}</p>\n</div>`;\n    })\n    .catch(error => {\n      hideLoader();\n      hideCatSelector();\n      hideCatInfo();\n      iziToast.error({\n        title: 'Error',\n        message: 'Oops! Something went wrong! Try reloading the page!',\n        position: 'bottomCenter',\n        timeout: 5000,\n        backgroundColor: 'yellow,',\n        color: 'yellow',\n      });\n    });\n}\ncatSelectorUpload();\n"],"names":["BASE_URL","SELECTOR_END_POINT","EMAGE_END_POIND","API_KEY","axios","fetchBreeds","res","fetchCatByBreed","breedId","catInfo","catSelector","loaderEl","showLoader","hideLoader","showCatSelector","hideCatSelector","showCatInfo","hideCatInfo","catSelectorUpload","breeds","id","name","SlimSelect","error","iziToast","createMarkup","catData","data"],"mappings":"owBAEA,MAAMA,EAAW,+BACXC,EAAqB,GAAGD,WACxBE,EAAkB,GAAGF,mBACrBG,EACJ,wEAEFC,EAAM,SAAS,QAAQ,OAAO,aAAeD,EAE7C,SAASE,GAAc,CACrB,OAAOD,EAAM,IAAI,GAAGH,GAAoB,EAAE,KAAKK,GAAOA,EAAI,IAAI,CAChE,CAEA,SAASC,EAAgBC,EAAS,CAChC,OAAOJ,EACJ,IAAI,GAAGF,cAA4BM,GAAS,EAC5C,KAAKF,GAAOA,EAAI,IAAI,CACzB,CCZA,MAAMG,EAAU,SAAS,cAAc,WAAW,EAC5CC,EAAc,SAAS,cAAc,eAAe,EAEpDC,EAAW,SAAS,cAAc,MAAM,EAC9CA,EAAS,UAAY,gBACrB,SAAS,KAAK,YAAYA,CAAQ,EAElC,SAASC,GAAa,CACpBD,EAAS,UAAU,OAAO,QAAQ,CACpC,CACA,SAASE,GAAa,CACpBF,EAAS,UAAU,IAAI,QAAQ,CACjC,CACA,SAASG,GAAkB,CACzBJ,EAAY,UAAU,OAAO,QAAQ,CACvC,CACA,SAASK,GAAkB,CACzBL,EAAY,UAAU,IAAI,QAAQ,CACpC,CACA,SAASM,GAAc,CACrBP,EAAQ,UAAU,OAAO,QAAQ,CACnC,CACA,SAASQ,GAAc,CACrBR,EAAQ,UAAU,IAAI,QAAQ,CAChC,CACA,SAASS,GAAoB,CAC3BN,IACAG,IACAE,IAEAZ,EAAa,EACV,KAAKc,GAAU,CACdN,IACAC,IACAK,EAAO,QAAQ,CAAC,CAAE,GAAAC,EAAI,KAAAC,CAAI,IAAO,CAC/BX,EAAY,YAAY,IAAI,OAAOW,EAAMD,CAAE,CAAC,CACpD,CAAO,EACD,IAAIE,EAAW,CACb,OAAQZ,CAChB,CAAO,CACP,CAAK,EACA,MAAMa,GAAS,CACdV,IACAE,IACAE,IACAO,EAAS,MAAM,CACb,MAAO,QACP,QAAS,sDACT,SAAU,eACV,QAAS,GACT,MAAO,QACf,CAAO,CACP,CAAK,CACL,CAGAd,EAAY,iBAAiB,SAAUe,CAAY,EACnD,SAASA,GAAe,CACtBb,IACAG,IACAE,IAEA,MAAMT,EAAUE,EAAY,MAE5BH,EAAgBC,CAAO,EACpB,KAAKkB,GAAW,CACfb,IACAC,IACAE,IACA,MAAMW,EAAOD,EAAQ,GACrBjB,EAAQ,UAAY,6BAA6BkB,EAAK,cAAcA,EAAK,OAAO,GAAG;AAAA;AAAA,kBAEvEA,EAAK,OAAO,GAAG;AAAA,KAC5BA,EAAK,OAAO,GAAG;AAAA,kDAC8BA,EAAK,OAAO,GAAG;AAAA,OAEjE,CAAK,EACA,MAAMJ,GAAS,CACdV,IACAE,IACAE,IACAO,EAAS,MAAM,CACb,MAAO,QACP,QAAS,sDACT,SAAU,eACV,QAAS,IACT,gBAAiB,UACjB,MAAO,QACf,CAAO,CACP,CAAK,CACL,CACAN,EAAmB"}