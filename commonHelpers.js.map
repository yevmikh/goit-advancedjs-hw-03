{"version":3,"file":"commonHelpers.js","sources":["../src/js/cat-api.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = 'https://api.thecatapi.com/v1';\nconst SELECTOR_END_POINT = `${BASE_URL}/breeds`;\nconst EMAGE_END_POIND = `${BASE_URL}/images/search?`;\nconst API_KEY =\n  'live_hYHqSU1vkpXeYjXQ3zdI4yWdoi0g8Rg34LE74zI7SScY4LWF3GhroxnVWF81pKGm';\n\naxios.defaults.headers.common['x-api-key'] = API_KEY;\n\nfunction fetchBreeds() {\n  return axios.get(`${SELECTOR_END_POINT}`).then(res => res.data);\n}\n\nfunction fetchCatByBreed(breedId) {\n  return axios\n    .get(`${EMAGE_END_POIND}breed_ids=${breedId}`)\n    .then(res => res.data);\n}\n\nexport { fetchBreeds, fetchCatByBreed };\n","import SlimSelect from 'slim-select';\nimport 'slim-select/styles';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { fetchBreeds, fetchCatByBreed } from './js/cat-api';\n\nconst catInfo = document.querySelector('.cat-info');\nconst catSelector = document.querySelector('.breed-select');\nconst loader = document.querySelector('.loader');\n\nconst loaderEl = document.createElement('span');\nloaderEl.className = 'loader';\ndocument.body.appendChild(loaderEl);\ncatInfo.innerHTML = '';\ncatInfo.appendChild(loaderEl);\nloaderEl.style.display = 'block';\n\nfunction catSelectorUpload() {\n  fetchBreeds()\n    .then(breeds => {\n      catSelector.style.display = 'flex';\n      breeds.forEach(({ id, name }) => {\n        catSelector.appendChild(new Option(name, id));\n      });\n      new SlimSelect({\n        select: catSelector,\n      });\n    })\n    .catch(error => {\n      iziToast.error({\n        title: 'Error',\n        message: 'Oops! Something went wrong! Try reloading the page!',\n        position: 'bottomCenter',\n        timeout: false,\n\n        color: 'yellow',\n      });\n      catSelector.style.display = 'none';\n    })\n    .finally(() => {\n      loaderEl.style.display = 'block';\n    });\n}\n\n////// drawing image and content\ncatSelector.addEventListener('change', createMarkup);\nfunction createMarkup() {\n  catInfo.innerHTML = '';\n  catInfo.appendChild(loaderEl);\n  const breedId = catSelector.value;\n\n  fetchCatByBreed(breedId)\n    .then(catData => {\n      const data = catData[0];\n      catInfo.innerHTML = `<img class = \"img\" src = \"${data.url}\" alt= \"${data.breeds[0].name}\" loading=\"lazy\"/>\n      <div class = \"text-container\">\n<p class = \"h2\">${data.breeds[0].name}</p>\n<p>${data.breeds[0].description}</p>\n<p><span class =\"subtitle\">Temperament</span> : ${data.breeds[0].temperament}</p>\n</div>`;\n    })\n    .catch(error => {\n      iziToast.error({\n        title: 'Error',\n        message: 'Oops! Something went wrong! Try reloading the page!',\n        position: 'bottomCenter',\n        timeout: 5000,\n        backgroundColor: 'yellow,',\n        color: 'yellow',\n      });\n    })\n    .finally(() => {\n      loaderEl.style.display = 'block';\n    });\n}\n\ncatSelectorUpload();\n"],"names":["BASE_URL","SELECTOR_END_POINT","EMAGE_END_POIND","API_KEY","axios","fetchBreeds","res","fetchCatByBreed","breedId","catInfo","catSelector","loaderEl","catSelectorUpload","breeds","id","name","SlimSelect","error","iziToast","createMarkup","catData","data"],"mappings":"owBAEA,MAAMA,EAAW,+BACXC,EAAqB,GAAGD,WACxBE,EAAkB,GAAGF,mBACrBG,EACJ,wEAEFC,EAAM,SAAS,QAAQ,OAAO,aAAeD,EAE7C,SAASE,GAAc,CACrB,OAAOD,EAAM,IAAI,GAAGH,GAAoB,EAAE,KAAKK,GAAOA,EAAI,IAAI,CAChE,CAEA,SAASC,EAAgBC,EAAS,CAChC,OAAOJ,EACJ,IAAI,GAAGF,cAA4BM,GAAS,EAC5C,KAAKF,GAAOA,EAAI,IAAI,CACzB,CCZA,MAAMG,EAAU,SAAS,cAAc,WAAW,EAC5CC,EAAc,SAAS,cAAc,eAAe,EAC3C,SAAS,cAAc,SAAS,EAE/C,MAAMC,EAAW,SAAS,cAAc,MAAM,EAC9CA,EAAS,UAAY,SACrB,SAAS,KAAK,YAAYA,CAAQ,EAClCF,EAAQ,UAAY,GACpBA,EAAQ,YAAYE,CAAQ,EAC5BA,EAAS,MAAM,QAAU,QAEzB,SAASC,GAAoB,CAC3BP,EAAa,EACV,KAAKQ,GAAU,CACdH,EAAY,MAAM,QAAU,OAC5BG,EAAO,QAAQ,CAAC,CAAE,GAAAC,EAAI,KAAAC,CAAI,IAAO,CAC/BL,EAAY,YAAY,IAAI,OAAOK,EAAMD,CAAE,CAAC,CACpD,CAAO,EACD,IAAIE,EAAW,CACb,OAAQN,CAChB,CAAO,CACP,CAAK,EACA,MAAMO,GAAS,CACdC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,sDACT,SAAU,eACV,QAAS,GAET,MAAO,QACf,CAAO,EACDR,EAAY,MAAM,QAAU,MAClC,CAAK,EACA,QAAQ,IAAM,CACbC,EAAS,MAAM,QAAU,OAC/B,CAAK,CACL,CAGAD,EAAY,iBAAiB,SAAUS,CAAY,EACnD,SAASA,GAAe,CACtBV,EAAQ,UAAY,GACpBA,EAAQ,YAAYE,CAAQ,EAC5B,MAAMH,EAAUE,EAAY,MAE5BH,EAAgBC,CAAO,EACpB,KAAKY,GAAW,CACf,MAAMC,EAAOD,EAAQ,GACrBX,EAAQ,UAAY,6BAA6BY,EAAK,cAAcA,EAAK,OAAO,GAAG;AAAA;AAAA,kBAEvEA,EAAK,OAAO,GAAG;AAAA,KAC5BA,EAAK,OAAO,GAAG;AAAA,kDAC8BA,EAAK,OAAO,GAAG;AAAA,OAEjE,CAAK,EACA,MAAMJ,GAAS,CACdC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,sDACT,SAAU,eACV,QAAS,IACT,gBAAiB,UACjB,MAAO,QACf,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbP,EAAS,MAAM,QAAU,OAC/B,CAAK,CACL,CAEAC,EAAmB"}