{"version":3,"file":"commonHelpers.js","sources":["../src/js/cat-api.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = 'https://api.thecatapi.com/v1';\nconst SELECTOR_END_POINT = `${BASE_URL}/breeds`;\nconst EMAGE_END_POIND = `${BASE_URL}/images/search?`;\nconst API_KEY =\n  'live_hYHqSU1vkpXeYjXQ3zdI4yWdoi0g8Rg34LE74zI7SScY4LWF3GhroxnVWF81pKGm';\n\naxios.defaults.headers.common['x-api-key'] = API_KEY;\n\nfunction fetchBreeds() {\n  return axios.get(`${SELECTOR_END_POINT}`).then(res => res.data);\n}\n\nfunction fetchCatByBreed(breedId) {\n  return axios\n    .get(`${EMAGE_END_POIND}breed_ids=${breedId}`)\n    .then(res => res.data);\n}\n\nexport { fetchBreeds, fetchCatByBreed };\n","import SlimSelect from 'slim-select';\nimport 'slim-select/styles';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { fetchBreeds, fetchCatByBreed } from './js/cat-api';\n\nfunction hideElement(element, isVisible) {\n  element.classList.toggle('hidden', !isVisible);\n}\n\nconst catInfo = document.querySelector('.cat-info');\nconst catSelector = document.querySelector('.breed-select');\nconst loaderEl = document.querySelector('.loader');\n\nfunction showLoader() {\n  loaderEl.classList.remove('hidden');\n}\n\nhideElement(catSelector, false);\nhideElement(loaderEl, true);\nhideElement(catInfo, true);\n\nfunction catSelectorUpload() {\n  hideElement(catSelector, false);\n  showLoader();\n  hideElement(catInfo, true);\n  catInfo.innerHTML = '';\n  fetchBreeds()\n    .then(breeds => {\n      catSelector.style.display = 'flex';\n      breeds.forEach(({ id, name }) => {\n        catSelector.appendChild(new Option(name, id));\n      });\n      new SlimSelect({\n        select: catSelector,\n      });\n    })\n    .catch(error => {\n      iziToast\n        .error({\n          title: 'Error',\n          message: 'Oops! Something went wrong! Try reloading the page!',\n          position: 'bottomCenter',\n          timeout: false,\n          color: 'yellow',\n        })\n        .finally(() => {\n          hideElement(loaderEl, false);\n        });\n    })\n    .finally(() => {\n      hideElement(loaderEl, false);\n    });\n}\ncatSelectorUpload();\n////// drawing image and content\ncatSelector.addEventListener('change', createMarkup);\nfunction createMarkup() {\n  hideElement(catInfo, true);\n  showLoader();\n  catInfo.innerHTML = '';\n  const breedId = catSelector.value;\n\n  fetchCatByBreed(breedId)\n    .then(catData => {\n      const data = catData[0];\n      catInfo.innerHTML = `<img class = \"img\" src = \"${data.url}\" alt= \"${data.breeds[0].name}\" loading=\"lazy\"/>\n      <div class = \"text-container\">\n<p class = \"h2\">${data.breeds[0].name}</p>\n<p>${data.breeds[0].description}</p>\n<p><span class =\"subtitle\">Temperament</span> : ${data.breeds[0].temperament}</p>\n</div>`;\n    })\n    .catch(error => {\n      iziToast\n        .error({\n          title: 'Error',\n          message: 'Oops! Something went wrong! Try reloading the page!',\n          position: 'bottomCenter',\n          timeout: 5000,\n          backgroundColor: 'yellow,',\n          color: 'yellow',\n        })\n        .finally(() => {\n          hideElement(loaderEl, false);\n        });\n    })\n    .finally(() => {\n      hideElement(loaderEl, false);\n    });\n}\n"],"names":["BASE_URL","SELECTOR_END_POINT","EMAGE_END_POIND","API_KEY","axios","fetchBreeds","res","fetchCatByBreed","breedId","hideElement","element","isVisible","catInfo","catSelector","loaderEl","showLoader","catSelectorUpload","breeds","id","name","SlimSelect","error","iziToast","createMarkup","catData","data"],"mappings":"owBAEA,MAAMA,EAAW,+BACXC,EAAqB,GAAGD,WACxBE,EAAkB,GAAGF,mBACrBG,EACJ,wEAEFC,EAAM,SAAS,QAAQ,OAAO,aAAeD,EAE7C,SAASE,GAAc,CACrB,OAAOD,EAAM,IAAI,GAAGH,GAAoB,EAAE,KAAKK,GAAOA,EAAI,IAAI,CAChE,CAEA,SAASC,EAAgBC,EAAS,CAChC,OAAOJ,EACJ,IAAI,GAAGF,cAA4BM,GAAS,EAC5C,KAAKF,GAAOA,EAAI,IAAI,CACzB,CCZA,SAASG,EAAYC,EAASC,EAAW,CACvCD,EAAQ,UAAU,OAAO,SAAU,CAACC,CAAS,CAC/C,CAEA,MAAMC,EAAU,SAAS,cAAc,WAAW,EAC5CC,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAW,SAAS,cAAc,SAAS,EAEjD,SAASC,GAAa,CACpBD,EAAS,UAAU,OAAO,QAAQ,CACpC,CAEAL,EAAYI,EAAa,EAAK,EAC9BJ,EAAYK,EAAU,EAAI,EAC1BL,EAAYG,EAAS,EAAI,EAEzB,SAASI,GAAoB,CAC3BP,EAAYI,EAAa,EAAK,EAC9BE,IACAN,EAAYG,EAAS,EAAI,EACzBA,EAAQ,UAAY,GACpBP,EAAa,EACV,KAAKY,GAAU,CACdJ,EAAY,MAAM,QAAU,OAC5BI,EAAO,QAAQ,CAAC,CAAE,GAAAC,EAAI,KAAAC,CAAI,IAAO,CAC/BN,EAAY,YAAY,IAAI,OAAOM,EAAMD,CAAE,CAAC,CACpD,CAAO,EACD,IAAIE,EAAW,CACb,OAAQP,CAChB,CAAO,CACP,CAAK,EACA,MAAMQ,GAAS,CACdC,EACG,MAAM,CACL,MAAO,QACP,QAAS,sDACT,SAAU,eACV,QAAS,GACT,MAAO,QACjB,CAAS,EACA,QAAQ,IAAM,CACbb,EAAYK,EAAU,EAAK,CACrC,CAAS,CACT,CAAK,EACA,QAAQ,IAAM,CACbL,EAAYK,EAAU,EAAK,CACjC,CAAK,CACL,CACAE,IAEAH,EAAY,iBAAiB,SAAUU,CAAY,EACnD,SAASA,GAAe,CACtBd,EAAYG,EAAS,EAAI,EACzBG,IACAH,EAAQ,UAAY,GACpB,MAAMJ,EAAUK,EAAY,MAE5BN,EAAgBC,CAAO,EACpB,KAAKgB,GAAW,CACf,MAAMC,EAAOD,EAAQ,GACrBZ,EAAQ,UAAY,6BAA6Ba,EAAK,cAAcA,EAAK,OAAO,GAAG;AAAA;AAAA,kBAEvEA,EAAK,OAAO,GAAG;AAAA,KAC5BA,EAAK,OAAO,GAAG;AAAA,kDAC8BA,EAAK,OAAO,GAAG;AAAA,OAEjE,CAAK,EACA,MAAMJ,GAAS,CACdC,EACG,MAAM,CACL,MAAO,QACP,QAAS,sDACT,SAAU,eACV,QAAS,IACT,gBAAiB,UACjB,MAAO,QACjB,CAAS,EACA,QAAQ,IAAM,CACbb,EAAYK,EAAU,EAAK,CACrC,CAAS,CACT,CAAK,EACA,QAAQ,IAAM,CACbL,EAAYK,EAAU,EAAK,CACjC,CAAK,CACL"}